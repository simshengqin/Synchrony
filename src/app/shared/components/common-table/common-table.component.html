<div class="common-table-wrapper">
  <table class="table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th *ngFor="let tableColumn of tableColumns" scope="col">{{tableColumn}}</th>
    </tr>
    </thead>
    <tbody>
        <tr *ngFor="let assignment of assignments; index as i;">
          <th scope="row">{{i + 1}}</th>
          <td *ngIf="tableColumns.includes(assignmentNameColumn)">{{assignment.name}}</td>
          <td *ngIf="tableColumns.includes(assignmentStudentColumn)">{{assignment.student.name}}</td>
          <td *ngIf="tableColumns.includes(assignmentStatusColumn)">
            <ng-container *ngIf="!assignment.submitted_datetime">Pending Submission</ng-container>
            <ng-container *ngIf="assignment.submitted_datetime">Last submitted on {{assignment.submitted_datetime  | date : dateTimeFormat}}</ng-container>
          </td>
          <td *ngIf="tableColumns.includes(assignmentDueDatetimeColumn) && assignment.dueDatetime">{{assignment.dueDatetime  | date : dateTimeFormat}}</td>
          <td *ngIf="tableColumns.includes(assignmentFeedbackDatetimeColumn)">
<!--            <ng-container *ngIf="assignment.feedback_datetime == -1">Not marked yet</ng-container>-->
<!--            <ng-container *ngIf="assignment.feedback_datetime != -1">Last marked on {{assignment.feedback_datetime  | date : dateTimeFormat}}</ng-container>-->
          </td>
          <td *ngIf="tableColumns.includes(assignmentInstructorColumn) && assignment.instructor">{{assignment.instructor.name}}</td>
          <td *ngIf="tableColumns.includes(assignmentSchoolColumn)">{{assignment.school}}</td>
          <td *ngIf="tableColumns.includes(assignmentGroupColumn)">{{assignment.group}}</td>
          <td *ngIf="tableColumns.includes(actionsColumn)">
            <button *ngIf="tableActions.includes(assignmentEditAction)" class="mr-3 btn btn-primary" (click)="onEditClick(assignment)">Edit</button>
            <button *ngIf="tableActions.includes(assignmentDeleteAction)" class="mr-3 btn btn-danger" (click)="onDeleteClick(assignment)">Delete</button>
            <button *ngIf="tableActions.includes(assignmentSubmitAction) && !assignment.submitted_datetime" class="mr-3 btn btn-primary" (click)="onSubmitClick(assignment)">Submit</button>
            <button *ngIf="tableActions.includes(assignmentResubmitAction) && assignment.submitted_datetime" class="mr-3 btn btn-primary" (click)="onSubmitClick(assignment)">Resubmit</button>
<!--            <button *ngIf="tableActions.includes(assignmentMarkAction) && assignment.feedback_datetime == -1" class="mr-3 btn btn-primary">Mark</button>-->
<!--            <button *ngIf="tableActions.includes(assignmentMarkAction) && assignment.feedback_datetime != -1" class="mr-3 btn btn-primary">Re-mark</button>-->
          </td>
        </tr>
    </tbody>
  </table>

  <app-confirm-modal (responseEmit)="onCloseModal($event)"></app-confirm-modal>
</div>
