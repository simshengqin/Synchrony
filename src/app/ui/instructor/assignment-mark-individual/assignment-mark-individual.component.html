<div class="assignment-mark-individual-wrapper wrapper-padding">
  <h1 *ngIf="assignment && student" class="mb-3">Mark {{assignment.name}} for {{student.firstName + ' ' +student.lastName}}</h1>
  <div [ngClass]="{'invisible' : isRecording}" class="form-text mb-3" >
    Download the scoresheet and open it in the pdf viewer on the left:
    <a #scoresheet target="_blank" [href]="assignmentSubmission?.student_attachment_scoresheet">
      {{assignmentSubmission?.student_attachment_scoresheet_name}}
    </a>
  </div>
  <div [ngClass]="{'invisible' : isRecording}" class="form-text mb-3" >
    Download the video recording and open it in the video player on the right:
    <a #videoPlayer target="_blank" [href]="assignmentSubmission?.student_attachment_recording">
      {{assignmentSubmission?.student_attachment_recording_name}}
    </a>
  </div>
  <div fxLayout="row" fxLayoutGap="32px" class="mb-5">
    <ngx-extended-pdf-viewer fxLayout="column" fxFlex="50" useBrowserLocale="true" height="80vh"></ngx-extended-pdf-viewer>
    <div fxLayout="column" fxLayoutAlign="center" fxFlex="50">
      <app-video-player></app-video-player>
    </div>
  </div>
<!--  <div fxLayout="row" fxLayoutAlign="center">-->
<!--    <button *ngIf="!isRecording" class="btn btn-success mr-3" (click)="onRecordClick()">{{recorded ? 'Record Again' : 'Record'}}</button>-->
<!--    <button *ngIf="isRecording"  class="btn btn-danger mr-3" (click)="stopRecording()">Stop</button>-->
<!--  </div>-->
  <div  fxLayout="row" fxLayoutAlign="center" class="form-text mb-3" ><!-- *ngIf="recorded"-->
    <app-videojs-record class = "mb-3"(recordingEmit)="updateFeedbackAttachment($event)"></app-videojs-record>
  </div>
  <div fxLayout="row" fxLayoutAlign="center" class="form-text mb-3" [ngClass]="{'invisible' : !recorded}" ><!-- *ngIf="recorded"-->
    Click <a #feedbackAttachment>&nbsp;here&nbsp;</a> to download the recording
  </div>
  <div fxLayout="row" fxLayoutAlign="center">
    <button *ngIf="!isRecording && recorded"  class="btn btn-secondary" (click)="submitFeedback()">Submit</button>
  </div>
  <app-confirm-modal (responseEmit)="onCloseModal($event)" (feedbackEmit)="onFeedback($event)"></app-confirm-modal>
</div>
